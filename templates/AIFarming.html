{% extends "sidebar.html" %}
{% block head %}
{{ super() }}
<link href="https://fonts.googleapis.com/css2?family=YourStylishFont:wght@700&display=swap" rel="stylesheet" />
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
<link rel="stylesheet" rel href="static/css/productbtn.css" rel="stylesheet">
<link rel="stylesheet" rel href="static/css/dashboardbtn.css" rel="stylesheet">


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!-- Include Chart.js for graphs -->
<script src="https://cdn.jsdelivr.net/npm/progressbar.js"></script>
<!-- Include ProgressBar.js for circular progress bar -->

<title>AIFarming</title>
<style>
/* Global Styles */
body {
  margin: 0;
  padding: 0;
  background-color: rgba(205, 243, 251, 0.6);
}

/* KPI Styles */
.kpi {
  padding: 15px;
  margin: 15px;
  background: linear-gradient(135deg, #ffffff 0%, #e3f2fd 100%);
  border-radius: 8px;
  box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.1);
  overflow: visible;
  text-align: end;
}

.kpi-icon {
  position: absolute;
  width: 60px;
  height: 60px;
  border-radius: 8px;
  top: -20px;
  left: 10px;
  box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.267);
  animation: bounce 2s infinite;
}

.kpi h4 {
  font-size: 1.2rem;
  color: #1f6b0a;
}

.kpi p {
  margin: 5px 0;
  font-size: 1rem;
  color: #333;
}

/* Advertisement Panel Styles */
.advertisement-panel {
  background: linear-gradient(135deg, #ffffff 0%, #e3f2fd 100%);
  border-radius: 8px;
  padding: 5px;
  margin-top: 10px;
  margin-bottom: 10px;
  box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.1);
  position: relative;
}

.advertisement-panel img {
  width: 100%;
  height: 100%;
  border-radius: 8px;
}

.overlay-text {
  opacity: 0;
  transition: opacity 0.3s ease, transform 0.3s ease;
}

.advertisement-panel:hover .overlay-text {
  opacity: 1;
  transform: translateY(-10px);
}

/* Smart Farming Title */
.smart-farming-title {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  font-size: 2.5rem;
  color: #1f6b0a;
  text-align: justify;
  display: flex;
}

.smart-farming-title .farming-gif {
  width: 50px;
  height: 50px;
  margin-left: -10px;
  object-fit: contain;
  z-index: -1;
  margin-top: -10px;
}

/* Card Styles */
.card-custom, .card-custom1, .graph-card {
  background: linear-gradient(135deg, #ffffff 0%, #e3f2fd 100%);
  border-radius: 8px;
  box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.card-custom {
  padding: 10px;
  margin-bottom: 10px;
}

.card-custom1 {
  padding: 10px;
  margin-bottom: 10px;
  height: 150px;
}

.card-custom1 p{
  font-size: 20px;
  margin-top: 10px;
  text-decoration: underline;
  color: red;
}

.card-custom:hover, .card-custom1:hover, .graph-card:hover {
  transform: translateY(-10px);
  box-shadow: 0px 8px 20px rgba(0, 0, 0, 0.2);
}

/* Graph Card Styles */
.graph-card {
  padding: .25rem;
  margin-bottom: 10px;
  padding-bottom: 10px;
  height: 350px;
  opacity: 0;
  transition: opacity 1s ease-in-out;
}

.graph-card.visible {
  opacity: 1;
}

/* KPI Icon Animation */
@keyframes bounce {
  0%, 20%, 50%, 80%, 100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-1px);
  }
  60% {
    transform: translateY(-10px);
  }
}

/* Button Styles */
.product-btn, .dashboard-btn {
  transition: background-color 0.3s ease, transform 0.3s ease;
}

.product-btn:hover, .dashboard-btn:hover {
  background-color: #007bff;
  transform: scale(1.05);
}

/* Modal Animation */
.modal.fade .modal-dialog {
  transform: translateY(-50px);
  transition: transform 0.3s ease-out, opacity 0.3s ease-out;
}

.modal.show .modal-dialog {
  transform: translateY(0);
  opacity: 1;
}

/* Responsive Styles */
@media (max-width: 1200px) {
  .smart-farming-title {
    font-size: 2rem;
  }

  .kpi-icon {
    width: 50px;
    height: 50px;
  }

  .kpi h4 {
    font-size: 1.3rem;
  }

  .kpi p {
    font-size: 1.1rem;
  }
}

@media (max-width: 992px) {
  .smart-farming-title {
    font-size: 1.8rem;
  }

  .kpi-icon {
    width: 55px;
    height: 55px;
  }

  .kpi h4 {
    font-size: 2rem;
  }

  .kpi p {
    font-size: 1.75rem;
  }

  .advertisement-panel {
    margin-top: 15px;
    padding: 10px;
  }

  .circular-progress-container {
    height: 150px;
  }
}

@media (max-width: 768px) {
  .smart-farming-title {
    font-size: 2rem;
    margin-left: 20px;
    padding-left: 10px;
  }

  .kpi-icon {
    width: 60px;
    height: 60px;
  }

  .kpi h4 {
    font-size: 1.7rem;
  }

  .kpi p {
    font-size: 1.7rem;
  }

  .kpi {
    width: 85%;
  }

  .advertisement-panel {
    margin-top: 10px;
    padding: 8px;
  }

  .card-custom1 {
    height: auto;
  }

  .circular-progress-container {
    height: 120px;
  }

  .row.kpi-row {
    display: flex;
    justify-content: center;
  }
}

@media (max-width: 576px) {
  .smart-farming-title {
    font-size: 1.4rem;
  }

  .farming-gif {
    width: 50px;
    height: 50px;
  }

  .kpi-icon {
    width: 50px;
    height: 50px;
  }

  .kpi h4 {
    font-size: 1.5rem;
  }

  .kpi p {
    font-size: 1.25rem;
  }

  .kpi {
    width: 85%;
  }

  .advertisement-panel {
    margin-top: 5px;
    padding: 6px;
  }

  .circular-progress-container {
    height: 100px;
  }

  .card-custom1 {
    height: auto;
  }

  .chart-container {
    margin: 10px 0;
  }

  .graph-card {
    height: 300px;
  }
}
</style>
{% endblock %}
{% block content %}
<div class="aifarming-container">
      <a href="#" class="product-btn btn btn-dark" data-toggle="modal" data-target="#productModal">
    <span>Product</span>
</a>

<!-- Product Modal (New) -->
    <div class="modal fade" id="productModal" tabindex="-1" role="dialog" aria-labelledby="productModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="productModalLabel">Product Information</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <img src="static/img/farmpredict.png" alt="Product GIF" style="width: 100%; height: auto; border-radius: 8px;">
                    <p class="mt-3">This GIF showcases the functionality of the AI product. It provides users with real-time assistance and enhances front desk operations with smooth and intuitive AI interactions.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

  <a href="#dashboard" class="dashboard-btn btn btn-dark">
    <span>Dashboard</span>
  </a>
  <h1 class="smart-farming-title" >
    Smart Farming<img src="static/img/farm.gif" alt="Farming GIF" class="farming-gif" />
  </h1>

  <div class="row">
    <div class="col-md-12 col-lg-6">
      <div class="row kpi-row">
        <div class="col-md-5 col-lg-5 kpi">
          <div \>
            <img src="static/img/cloud.gif" alt="Weather Icon" class="kpi-icon" />
            <div class="ms-3">
              <h4>Weather</h4>
              <p>cloudy</p>
            </div>
          </div>
        </div>
        <div class="col-md-5 col-lg-5 kpi">
          <div>
            <img src="static/img/ph.gif" alt="pH of Soil Icon" class="kpi-icon" />
            <div class="ms-3">
              <h4>pH of Soil</h4>
              <p>7.0</p>
            </div>
          </div>
        </div>
      </div>
      <div class="row kpi-row">
        <div class="col-md-5 col-lg-5 kpi">
          <div>
            <img src="static/img/humidity.gif" alt="Humidity Icon" class="kpi-icon" />
            <div class="ms-3">
              <h4>Humidity</h4>
              <p>60%</p>
            </div>
          </div>
        </div>
        <div class="col-md-5 col-lg-5 kpi">
          <div>
            <img src="static/img/temp.gif" alt="Temperature Icon" class="kpi-icon" />
            <div class="ms-3">
              <h4>Temperature</h4>
              <p>30¬∞ C</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Advertisement Panel -->
<div class="col-md-12 col-lg-6 advertisement-panel">
  <img id="farming" src="static/img/farming.png" alt="Graph GIF" data-toggle="modal" data-target="#advertisementModal" />

  <!-- Overlay text -->
                    <div class="overlay-text position-absolute text-dark"
                        style="top: 10%; left: 20%; transform: translate(-50%, -50%); font-size: 24px; font-weight: bold;">
                        About!
                    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="advertisementModal" tabindex="-1" role="dialog" aria-labelledby="advertisementModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="advertisementModalLabel">AI Farming</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <img src="static/img/farming.png" alt="Farming Image" class="img-fluid mb-3" />
        <p>AI Farmer assistance offers crop recommendations by analyzing soil and climate data to optimize yield. It predicts crop yields using historical and real-time data, helping farmers with resource planning. AI-driven systems detect plant diseases early for timely interventions. Additionally, AI provides accurate weather forecasts, enabling farmers to make informed decisions and mitigate weather-related risks.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>


  </div>

  <!-- Recommendations and Analytics -->
  <div class="row">
    <!-- Recommendations -->
    <div class="col-md-12 col-lg-6">
      <!-- Recommendation 1 -->
      <div class="card card-custom1">
        <div class="card-body">
          <h2 class="recommendation-title">
            Earlier Recommended
            <span class="recommendation-icon">üçà</span> <!-- Musk Melon Icon -->
          </h2>
          <p class="recommendation-text">Musk Melon</p>
        </div>
      </div>
      <!-- Recommendation 2 -->
      <div class="card card-custom1">
        <div class="card-body">
          <h2 class="recommendation-title">
            Previously Recommended
            <span class="recommendation-icon">üìä</span> <!-- Yield Icon -->
          </h2>
          <p class="recommendation-text">1.3 tons</p>
        </div>
      </div>
    </div>


    <!-- Analytics -->
    <div class="col-md-12 col-lg-6">
      <div class="card card-custom">
        <div class="card-body">
          <div class="row">
            <!-- Pie Chart -->
            <div class="col-sm-6 col-md-6">
              <h5>NPK Values</h5>
              <canvas id="pieChart"></canvas>
            </div>
            <!-- Circular Progress Bar -->
            <div class="col-sm-6 col-md-6">
              <h5>CO2</h5>
              <div id="circularProgress"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Graphs -->
  <div class="row">
    <!-- Single Curve Graph -->
    <div class="col-lg-6">
      <div class="card graph-card">
        <div class="card-body">
          <h5>Crop Yield Rate</h5>
          <canvas id="singleCurveGraph"></canvas>
        </div>
      </div>
    </div>

    <!-- Two Curve Graph -->
    <div class="col-lg-6">
      <div class="card graph-card">
        <div class="card-body">
          <h5>Humidity and Temperature</h5>
          <canvas id="twoCurveGraph"></canvas>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Pie Chart
  var ctx = document.getElementById("pieChart").getContext("2d");
  var pieChart = new Chart(ctx, {
    type: "pie",
    data: {
      labels: ["Nitrogen (N)", "Phosphorus (P)", "Potassium (k)"],
      datasets: [
        {
          data: [10, 20, 30],
          backgroundColor: ["#ff6384", "#36a2eb", "#cc65fe"],
          hoverBackgroundColor: ["#ff6384", "#36a2eb", "#cc65fe"],
        },
      ],
    },
    options: {
      responsive: true,
    },
  });

  var circularProgress = new ProgressBar.Circle("#circularProgress", {
    color: "#36a2eb",
    strokeWidth: 10,
    trailWidth: 1,
    easing: "easeInOut",
    duration: 2800,
    from: { color: "#ff6384", width: 1 },
    to: { color: "#36a2eb", width: 10 },
    text: {
      value: '0%',   // Initial value
      style: {
        color: '#000',   // Text color
        position: 'absolute',
        left: '50%',
        top: '50%',
        padding: 0,
        margin: 0,
        transform: {
          prefix: true,
          value: 'translate(-50%, -50%)'
        },
        fontSize: '25px',   // Increased font size for the percentage
      }
    },
    step: function (state, circle) {
      circle.path.setAttribute("stroke", state.color);
      circle.path.setAttribute("stroke-width", state.width);
  
      var value = Math.round(circle.value() * 100);
      circle.setText(value + "%");
    },
  });
  

  circularProgress.animate(0.75); // 75% progress

  // Single Curve Graph
  var ctxSingle = document.getElementById("singleCurveGraph").getContext("2d");
  var singleCurveGraph = new Chart(ctxSingle, {
    type: "line",
    data: {
      labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul"],
      datasets: [
        {
          label: "Yield",
          data: [10, 20, 15, 30, 25, 40, 35],
          borderColor: "rgba(75, 192, 192, 1)",
          backgroundColor: "rgba(75, 192, 192, 0.2)",
          borderWidth: 2,
          fill: true,
          tension: 0.4, // Smooth curve
        },
      ],
    },
    options: {
      responsive: true,
            maintainAspectRatio: false, // Allow canvas to scale with container

      scales: {
        x: {
          grid: {
            display: false,
          },
        },
        y: {
          beginAtZero: true,
          grid: {
            color: "rgba(255, 255, 255, 0.2)",
          },
        },
      },
      plugins: {
        legend: {
          display: true,
        },
        tooltip: {
          callbacks: {
            label: function (tooltipItem) {
              return `Value: ${tooltipItem.raw}`;
            },
          },
        },
      },
    },
  });

  // Two Curve Graph
  var ctxTwo = document.getElementById("twoCurveGraph").getContext("2d");
  var twoCurveGraph = new Chart(ctxTwo, {
    type: "line",
    data: {
      labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul"],
      datasets: [
        {
          label: "Humidity",
          data: [10, 25, 20, 35, 30, 45, 40],
          borderColor: "rgba(255, 99, 132, 1)",
          backgroundColor: "rgba(255, 99, 132, 0.2)",
          borderWidth: 2,
          fill: true,
          tension: 0.4, // Smooth curve
        },
        {
          label: "Temperature",
          data: [20, 15, 30, 25, 40, 35, 50],
          borderColor: "rgba(54, 162, 235, 1)",
          backgroundColor: "rgba(54, 162, 235, 0.2)",
          borderWidth: 2,
          fill: true,
          tension: 0.4, // Smooth curve
        },
      ],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false, // Allow canvas to scale with container

      scales: {
        x: {
          grid: {
            display: false,
          },
        },
        y: {
          beginAtZero: true,
          grid: {
            color: "rgba(255, 255, 255, 0.2)",
          },
        },
      },
      plugins: {
        legend: {
          display: true,
        },
        tooltip: {
          callbacks: {
            label: function (tooltipItem) {
              return `Value: ${tooltipItem.raw}`;
            },
          },
        },
      },
    },
  });

  // Add visible class to graph cards when page loads
document.addEventListener("DOMContentLoaded", function() {
  var graphCards = document.querySelectorAll('.graph-card');
  graphCards.forEach(function(card) {
    setTimeout(function() {
      card.classList.add('visible');
    }, 500); // Adjust delay as needed
  });
});

</script>
{% endblock %}
</div>